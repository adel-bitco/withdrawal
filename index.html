<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù†Ù…ÙˆØ°Ø¬ Ø·Ù„Ø¨ Ø³Ø­Ø¨ Ø±ØµÙŠØ¯</title>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700&display=swap');
        body {
            font-family: 'Tajawal', sans-serif;
            background-color: #f0f2f5;
            color: #333;
        }
        .form-container {
            max-width: 450px;
            margin: 20px auto;
            padding: 20px;
            background-color: #fff;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        .form-field {
            margin-bottom: 0.75rem;
        }
        label {
            font-weight: bold;
            display: flex;
            align-items: center;
            margin-bottom: 0.25rem;
            font-size: 0.9rem;
            color: #555;
        }
        label .emoji {
            margin-left: 0.5rem;
            font-size: 1.2em;
        }
        .field-description {
            font-size: 0.75rem;
            color: #888;
            margin-top: -0.25rem;
            margin-bottom: 0.5rem;
        }
        input, select, textarea {
            width: 100%;
            padding: 0.4rem 0.75rem;
            border: 1px solid #ccc;
            border-radius: 4px;
            font-size: 0.9rem;
        }
        .logo {
            display: flex;
            justify-content: center;
            margin-bottom: 15px;
        }
        .title {
            text-align: center;
            font-size: 1.2rem;
            font-weight: bold;
            margin-bottom: 15px;
            color: #444;
        }
        .submit-button {
            width: 100%;
            padding: 0.75rem;
            background-color: #007bff;
            color: #fff;
            font-weight: bold;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 1rem;
            transition: background-color 0.2s;
        }
        .submit-button:hover {
            background-color: #0056b3;
        }
        .info-box {
            background-color: #e9f2ff;
            border: 1px solid #b3d7ff;
            padding: 1rem;
            border-radius: 4px;
            margin-top: 1rem;
            font-size: 0.9rem;
        }
        .info-box.red {
            background-color: #ffe9e9;
            border-color: #ffb3b3;
            color: #b30000;
        }
        .final-amounts {
            background-color: #f7f7f7;
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 1rem;
            margin-top: 1rem;
        }
        .final-amounts p {
            margin: 0.25rem 0;
            font-size: 0.9rem;
            color: #444;
        }
        .final-amounts .exchange-rate-text {
            font-size: 0.85rem;
            color: #666;
            margin-top: 0.5rem;
        }
        .countdown-bar {
            height: 5px;
            background-color: #e2e8f0;
            border-radius: 9999px;
            overflow: hidden;
            margin-top: 0.5rem;
        }
        .countdown-progress {
            height: 100%;
            background-color: #3b82f6;
            transition: width 1s linear;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        const sanitizeInput = (input) => {
            if (typeof input !== 'string') return input;
            const div = document.createElement('div');
            div.innerText = input;
            return div.innerHTML;
        };

        const App = () => {
            const [formData, setFormData] = useState({
                balance_type: '',
                crypto_name: '',
                other_crypto_name: '',
                crypto_network: '',
                other_crypto_network: '',
                wallet_name: '',
                other_wallet_name: '',
                wallet_currency: '',
                other_wallet_currency: '',
                amount_requested: '',
                service_fee_value: 0,
                sender_address: '',
                notes: '',
                payout_method: '',
                other_payout_method: '',
                payout_currency: 'Ø±ÙŠØ§Ù„ ÙŠÙ…Ù†ÙŠ Ø¬Ø¯ÙŠØ¯',
                receiver_bank_info: '',
                final_amount_after_fees_usd: 0,
                final_amount_due_local: 0,
            });

            const [formSubmitted, setFormSubmitted] = useState(false);
            const [isSubmitting, setIsSubmitting] = useState(false);
            const [orderId, setOrderId] = useState('');
            const [cryptoPrices, setCryptoPrices] = useState({
                BTC: null, ETH: null, SOL: null, TRX: null, BNB: null
            });
            const [isPriceLoading, setIsPriceLoading] = useState(false);
            const [countdown, setCountdown] = useState(60);
            const [error, setError] = useState('');

            const exchangeRates = {
                'Ø±ÙŠØ§Ù„ Ø³Ø¹ÙˆØ¯ÙŠ': 3.8,
                'Ø±ÙŠØ§Ù„ ÙŠÙ…Ù†ÙŠ Ù‚Ø¯ÙŠÙ…': 533,
                'Ø±ÙŠØ§Ù„ ÙŠÙ…Ù†ÙŠ Ø¬Ø¯ÙŠØ¯': 1600,
                'Ø¯ÙˆÙ„Ø§Ø± Ø£Ù…Ø±ÙŠÙƒÙŠ': 1,
            };

            const cryptoSymbolMap = {
                'Bitcoin': 'BTC',
                'Ethereum': 'ETH',
                'Solana': 'SOL',
                'USDT': 'USDT',
                'TRX': 'TRX',
                'BNB': 'BNB',
                'Ø£Ø®Ø±Ù‰': null
            };

            const fetchAllCryptoPrices = async () => {
                const cryptosToFetch = ["BTC", "ETH", "SOL", "TRX", "BNB"];
                const baseUrl = 'https://min-api.cryptocompare.com/data/pricemulti';
                const params = { "fsyms": cryptosToFetch.join(','), "tsyms": "USDT" };
                const url = new URL(baseUrl);
                url.search = new URLSearchParams(params).toString();

                setIsPriceLoading(true);
                try {
                    const response = await fetch(url);
                    const data = await response.json();
                    if (data) {
                        setCryptoPrices(prev => ({
                            ...prev,
                            BTC: data.BTC ? data.BTC.USDT : null,
                            ETH: data.ETH ? data.ETH.USDT : null,
                            SOL: data.SOL ? data.SOL.USDT : null,
                            TRX: data.TRX ? data.TRX.USDT : null,
                            BNB: data.BNB ? data.BNB.USDT : null
                        }));
                    }
                } catch (e) {
                    console.error('ÙØ´Ù„ Ø¬Ù„Ø¨ Ø£Ø³Ø¹Ø§Ø± Ø§Ù„Ø¹Ù…Ù„Ø§Øª Ø§Ù„Ø±Ù‚Ù…ÙŠØ© Ù…Ù† CryptoCompare:', e);
                } finally {
                    setIsPriceLoading(false);
                }
            };

            useEffect(() => {
                const isPriceNeeded = (formData.balance_type === 'crypto' && ['Bitcoin', 'Ethereum', 'Solana', 'TRX', 'BNB'].includes(formData.crypto_name)) ||
                                        (formData.balance_type === 'wallet' && ['Bitcoin', 'Ethereum', 'Solana', 'TRX', 'BNB'].includes(formData.wallet_currency));

                if (isPriceNeeded) {
                    fetchAllCryptoPrices();
                    const timer = setInterval(() => {
                        setCountdown(prev => {
                            if (prev <= 1) {
                                fetchAllCryptoPrices();
                                return 60;
                            }
                            return prev - 1;
                        });
                    }, 1000);
                    return () => clearInterval(timer);
                } else {
                    setCountdown(60);
                }
            }, [formData.balance_type, formData.crypto_name, formData.wallet_currency]);

            const calculateServiceFee = (amountInUSD, balanceType, walletName) => {
                if (balanceType === 'wallet' && (['PayPal', 'Payoneer'].includes(walletName) || walletName.toLowerCase().includes('paypal') || walletName.toLowerCase().includes('payoneer'))) {
                    return amountInUSD * 0.10;
                }
                if (amountInUSD <= 50) {
                    return 1;
                }
                return amountInUSD * 0.02;
            };

            useEffect(() => {
                const updatedAmount = parseFloat(formData.amount_requested);
                if (isNaN(updatedAmount) || updatedAmount <= 0) {
                    setFormData(prev => ({
                        ...prev,
                        service_fee_value: 0,
                        final_amount_after_fees_usd: 0,
                        final_amount_due_local: 0,
                    }));
                    return;
                }

                let amountInUSD = updatedAmount;
                const balanceType = formData.balance_type;
                let currentCryptoSymbol = null;

                if (balanceType === 'crypto') {
                    currentCryptoSymbol = cryptoSymbolMap[formData.crypto_name];
                } else if (balanceType === 'wallet') {
                    currentCryptoSymbol = cryptoSymbolMap[formData.wallet_currency];
                }
                
                if (currentCryptoSymbol && currentCryptoSymbol !== 'USDT' && currentCryptoSymbol !== 'USD' && cryptoPrices[currentCryptoSymbol]) {
                    amountInUSD = updatedAmount * cryptoPrices[currentCryptoSymbol];
                }
                
                const fee = calculateServiceFee(amountInUSD, balanceType, formData.wallet_name === 'Ø£Ø®Ø±Ù‰' ? formData.other_wallet_name : formData.wallet_name);
                const amountAfterFeeUSD = amountInUSD - fee;
                const convertedAmount = amountAfterFeeUSD * (exchangeRates[formData.payout_currency] || 1);

                setFormData(prev => ({
                    ...prev,
                    service_fee_value: fee,
                    final_amount_after_fees_usd: amountAfterFeeUSD,
                    final_amount_due_local: convertedAmount,
                }));
            }, [formData.amount_requested, formData.payout_currency, formData.crypto_name, formData.wallet_currency, formData.balance_type, formData.wallet_name, cryptoPrices]);

            const handleInputChange = (e) => {
                const { name, value } = e.target;
                let newFormData = { ...formData, [name]: value };

                if (name === 'balance_type') {
                    newFormData = {
                        ...newFormData,
                        crypto_name: '', other_crypto_name: '', crypto_network: '', other_crypto_network: '',
                        wallet_name: '', other_wallet_name: '', wallet_currency: '', other_wallet_currency: ''
                    };
                }
                if (name === 'crypto_name' && value !== 'Ø£Ø®Ø±Ù‰') {
                    newFormData = { ...newFormData, other_crypto_name: '' };
                }
                if (name === 'crypto_network' && value !== 'Ø£Ø®Ø±Ù‰') {
                    newFormData = { ...newFormData, other_crypto_network: '' };
                }
                if (name === 'wallet_name' && value !== 'Ø£Ø®Ø±Ù‰') {
                    newFormData = { ...newFormData, other_wallet_name: '' };
                }
                if (name === 'wallet_currency' && value !== 'Ø£Ø®Ø±Ù‰') {
                    newFormData = { ...newFormData, other_wallet_currency: '' };
                }
                if (name === 'payout_method' && value !== 'Ø£Ø®Ø±Ù‰') {
                    newFormData = { ...newFormData, other_payout_method: '' };
                }

                setFormData(newFormData);
            };
            
            const handleOtherInputChange = (e) => {
                const { name, value } = e.target;
                setFormData(prev => ({ ...prev, [name]: value }));
            };

            const handleSubmit = async (e) => {
                e.preventDefault();
                setError('');
                setIsSubmitting(true);
                if (parseFloat(formData.amount_requested) <= 0) {
                    setError('Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ù…Ø·Ù„ÙˆØ¨ Ø³Ø­Ø¨Ù‡ ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† Ø£ÙƒØ¨Ø± Ù…Ù† ØµÙØ±.');
                    setIsSubmitting(false);
                    return;
                }
                if (parseFloat(formData.final_amount_after_fees_usd) <= 0) {
                    setError('Ø§Ù„Ù…Ø¨Ù„Øº Ø¨Ø¹Ø¯ Ø®ØµÙ… Ø§Ù„Ø±Ø³ÙˆÙ… ØºÙŠØ± ÙƒØ§ÙÙ. ÙŠØ±Ø¬Ù‰ Ø²ÙŠØ§Ø¯Ø© Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ù…Ø·Ù„ÙˆØ¨ Ø³Ø­Ø¨Ù‡.');
                    setIsSubmitting(false);
                    return;
                }
                
                const pseudoOrderId = 'WITHDRAW-' + Math.random().toString(36).substr(2, 9).toUpperCase();
                setOrderId(pseudoOrderId);
                setFormSubmitted(true);
                setIsSubmitting(false);
            };

            const handleShare = () => {
                const payoutMethodForShare = formData.payout_method === 'Ø£Ø®Ø±Ù‰' ? formData.other_payout_method : formData.payout_method;
                const cryptoNameForShare = formData.crypto_name === 'Ø£Ø®Ø±Ù‰' ? formData.other_crypto_name : formData.crypto_name;
                const cryptoNetworkForShare = formData.crypto_network === 'Ø£Ø®Ø±Ù‰' ? formData.other_crypto_network : formData.crypto_network;
                const walletNameForShare = formData.wallet_name === 'Ø£Ø®Ø±Ù‰' ? formData.other_wallet_name : formData.wallet_name;
                const walletCurrencyForShare = formData.wallet_currency === 'Ø£Ø®Ø±Ù‰' ? formData.other_wallet_currency : formData.wallet_currency;

                const orderDetails = formData.balance_type === 'crypto' ?
                    `*Ù†ÙˆØ¹ Ø§Ù„Ø±ØµÙŠØ¯:* Ø¹Ù…Ù„Ø© Ø±Ù‚Ù…ÙŠØ©
*Ø§Ù„Ø¹Ù…Ù„Ø© Ø§Ù„Ø±Ù‚Ù…ÙŠØ©:* ${sanitizeInput(cryptoNameForShare)}
*Ø§Ù„Ø´Ø¨ÙƒØ©:* ${sanitizeInput(cryptoNetworkForShare)}
*Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ù…Ø·Ù„ÙˆØ¨ Ø³Ø­Ø¨Ù‡:* ${sanitizeInput(formData.amount_requested)} ${sanitizeInput(cryptoNameForShare)}`
                    :
                    `*Ù†ÙˆØ¹ Ø§Ù„Ø±ØµÙŠØ¯:* Ù…Ø­Ø§ÙØ¸ ÙˆÙ…Ù†ØµØ§Øª Ø±Ù‚Ù…ÙŠØ©
*Ø§Ø³Ù… Ø§Ù„Ù…Ø­ÙØ¸Ø©/Ø§Ù„Ù…Ù†ØµØ©:* ${sanitizeInput(walletNameForShare)}
*Ø¹Ù…Ù„Ø© Ø§Ù„Ù…Ø­ÙØ¸Ø©:* ${sanitizeInput(walletCurrencyForShare)}
*Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ù…Ø·Ù„ÙˆØ¨ Ø³Ø­Ø¨Ù‡:* ${sanitizeInput(formData.amount_requested)} ${sanitizeInput(walletCurrencyForShare)}`;
                
                const exchangeRateDisplay = formData.payout_currency === 'Ø¯ÙˆÙ„Ø§Ø± Ø£Ù…Ø±ÙŠÙƒÙŠ'
                    ? ''
                    : `*Ø³Ø¹Ø± Ø§Ù„ØµØ±Ù:* 1 USD = ${exchangeRates[formData.payout_currency]} ${formData.payout_currency}`;

                const shareText = `*ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø·Ù„Ø¨ Ø³Ø­Ø¨ Ø¬Ø¯ÙŠØ¯!*
-----------------------------
*Ø±Ù‚Ù… Ø§Ù„Ø·Ù„Ø¨:* ${sanitizeInput(orderId)}
${orderDetails}
*Ø±Ø³ÙˆÙ… Ø§Ù„Ø®Ø¯Ù…Ø© (Ø¨Ø§Ù„Ø¯ÙˆÙ„Ø§Ø±):* ${sanitizeInput(formData.service_fee_value.toFixed(2))} USD
*Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„ØµØ§ÙÙŠ Ø§Ù„Ù…Ø³ØªÙ„Ù… (Ø¨Ø§Ù„Ø¯ÙˆÙ„Ø§Ø±):* ${sanitizeInput(formData.final_amount_after_fees_usd.toFixed(2))} USD
*Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø¥Ø±Ø³Ø§Ù„:* ${sanitizeInput(formData.sender_address)}
*Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª:* ${sanitizeInput(formData.notes) || 'Ù„Ø§ ØªÙˆØ¬Ø¯'}
*Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø§Ø³ØªÙ„Ø§Ù…:* ${sanitizeInput(payoutMethodForShare)}
*Ø§Ù„Ø¹Ù…Ù„Ø© Ø§Ù„Ù…Ø­Ù„ÙŠØ© Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©:* ${sanitizeInput(formData.payout_currency)}
${exchangeRateDisplay}
*Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ Ù„Ù„Ø§Ø³ØªÙ„Ø§Ù… (Ø¨Ø§Ù„Ø¹Ù…Ù„Ø© Ø§Ù„Ù…Ø­Ù„ÙŠØ©):* ${sanitizeInput(formData.final_amount_due_local.toFixed(2))} ${sanitizeInput(formData.payout_currency)}
*Ø¨ÙŠØ§Ù†Ø§Øª Ø­Ø³Ø§Ø¨ Ø§Ù„Ø§Ø³ØªÙ„Ø§Ù…:* ${sanitizeInput(formData.receiver_bank_info)}`;

                const whatsappUrl = `https://wa.me/?text=${encodeURIComponent(shareText)}`;
                window.open(whatsappUrl, '_blank');
            };

            const renderCryptoDetails = () => (
                <>
                    <div className="form-field">
                        <label>
                            <span className="emoji">ğŸ’±</span> Ù…Ø§ Ø§Ø³Ù… Ø§Ù„Ø¹Ù…Ù„Ø© Ø§Ù„Ø±Ù‚Ù…ÙŠØ©ØŸ
                        </label>
                        <p className="field-description">Ø§Ø®ØªØ± Ù†ÙˆØ¹ Ø§Ù„Ø¹Ù…Ù„Ø© Ø§Ù„Ø±Ù‚Ù…ÙŠØ© Ø§Ù„ØªÙŠ ØªØ±ÙŠØ¯ Ø³Ø­Ø¨Ù‡Ø§.</p>
                        <select
                            name="crypto_name"
                            value={formData.crypto_name}
                            onChange={handleInputChange}
                            required
                        >
                            <option value="">Ø§Ø®ØªØ±...</option>
                            <option value="USDT">USDT</option>
                            <option value="Bitcoin">Bitcoin</option>
                            <option value="Solana">Solana</option>
                            <option value="Ethereum">Ethereum</option>
                            <option value="TRX">TRX</option>
                            <option value="BNB">BNB</option>
                            <option value="Ø£Ø®Ø±Ù‰">Ø£Ø®Ø±Ù‰</option>
                        </select>
                        {formData.crypto_name === 'Ø£Ø®Ø±Ù‰' && (
                            <input
                                type="text"
                                name="other_crypto_name"
                                value={formData.other_crypto_name}
                                onChange={handleOtherInputChange}
                                placeholder="Ø§ÙƒØªØ¨ Ø§Ø³Ù… Ø§Ù„Ø¹Ù…Ù„Ø©..."
                                className="mt-2"
                                required
                            />
                        )}
                    </div>
                    {['Bitcoin', 'Solana', 'Ethereum', 'TRX', 'BNB'].includes(formData.crypto_name) && (
                        <div className="info-box my-2">
                            <div className="flex items-center">
                                {isPriceLoading || cryptoPrices[cryptoSymbolMap[formData.crypto_name]] === null ? (
                                    <>
                                        <div className="inline-block h-4 w-4 animate-spin rounded-full border-2 border-blue-500 border-t-transparent ml-2"></div>
                                        <p className="text-sm text-blue-800">Ø¬Ø§Ø±ÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ø³Ø¹Ø±...</p>
                                    </>
                                ) : (
                                    <p className="text-sm text-blue-800">
                                        Ø§Ù„Ø³Ø¹Ø± Ø§Ù„Ø­Ø§Ù„ÙŠ Ù„Ù€ {formData.crypto_name}: ~{cryptoPrices[cryptoSymbolMap[formData.crypto_name]]?.toFixed(2)} Ø¯ÙˆÙ„Ø§Ø± Ø£Ù…Ø±ÙŠÙƒÙŠ
                                    </p>
                                )}
                            </div>
                            {!isPriceLoading && cryptoPrices[cryptoSymbolMap[formData.crypto_name]] !== null && (
                                <div className="countdown-bar">
                                    <div className="countdown-progress" style={{ width: `${(countdown / 60) * 100}%` }}></div>
                                </div>
                            )}
                        </div>
                    )}
                    <div className="form-field">
                        <label>
                            <span className="emoji">ğŸ“¡</span> Ù…Ø§ Ù‡ÙŠ Ø§Ù„Ø´Ø¨ÙƒØ© Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©ØŸ
                        </label>
                        <p className="field-description">Ø­Ø¯Ø¯ Ø´Ø¨ÙƒØ© Ø§Ù„Ø¨Ù„ÙˆÙƒ ØªØ´ÙŠÙ† Ø§Ù„ØªÙŠ Ø³ØªØªÙ… Ø¹Ù„ÙŠÙ‡Ø§ Ø¹Ù…Ù„ÙŠØ© Ø§Ù„Ø³Ø­Ø¨.</p>
                        <select
                            name="crypto_network"
                            value={formData.crypto_network}
                            onChange={handleInputChange}
                            required
                        >
                            <option value="">Ø§Ø®ØªØ±...</option>
                            <option value="BEP20">BEP20</option>
                            <option value="TRC20">TRC20</option>
                            <option value="ERC20">ERC20</option>
                            <option value="Solana">Solana</option>
                            <option value="Polygon">Polygon</option>
                            <option value="Ø£Ø®Ø±Ù‰">Ø£Ø®Ø±Ù‰</option>
                        </select>
                        {formData.crypto_network === 'Ø£Ø®Ø±Ù‰' && (
                            <input
                                type="text"
                                name="other_crypto_network"
                                value={formData.other_crypto_network}
                                onChange={handleOtherInputChange}
                                placeholder="Ø§ÙƒØªØ¨ Ø§Ø³Ù… Ø§Ù„Ø´Ø¨ÙƒØ©..."
                                className="mt-2"
                                required
                            />
                        )}
                    </div>
                </>
            );

            const renderWalletDetails = () => (
                <>
                    <div className="form-field">
                        <label>
                            <span className="emoji">ğŸ‘›</span> Ù…Ø§ Ø§Ø³Ù… Ø§Ù„Ù…Ø­ÙØ¸Ø©/Ø§Ù„Ù…Ù†ØµØ©ØŸ
                        </label>
                        <p className="field-description">Ø­Ø¯Ø¯ Ø§Ø³Ù… Ø§Ù„Ù…Ø­ÙØ¸Ø© Ø£Ùˆ Ø§Ù„Ù…Ù†ØµØ© Ø§Ù„ØªÙŠ Ø³ØªØ³Ø­Ø¨ Ù…Ù†Ù‡Ø§.</p>
                        <select
                            name="wallet_name"
                            value={formData.wallet_name}
                            onChange={handleInputChange}
                            required
                        >
                            <option value="">Ø§Ø®ØªØ±...</option>
                            <option value="Binance">Binance</option>
                            <option value="BYBITE">BYBITE</option>
                            <option value="MEXC">MEXC</option>
                            <option value="COINBASE">COINBASE</option>
                            <option value="TRUST WALLET">TRUST WALLET</option>
                            <option value="PayPal">PayPal</option>
                            <option value="Payoneer">Payoneer</option>
                            <option value="Wise">Wise</option>
                            <option value="Perfect Money">Perfect Money</option>
                            <option value="Ø£Ø®Ø±Ù‰">Ø£Ø®Ø±Ù‰</option>
                        </select>
                        {formData.wallet_name === 'Ø£Ø®Ø±Ù‰' && (
                            <input
                                type="text"
                                name="other_wallet_name"
                                value={formData.other_wallet_name}
                                onChange={handleOtherInputChange}
                                placeholder="Ø§ÙƒØªØ¨ Ø§Ø³Ù… Ø§Ù„Ù…Ø­ÙØ¸Ø©/Ø§Ù„Ù…Ù†ØµØ©..."
                                className="mt-2"
                                required
                            />
                        )}
                    </div>
                    <div className="form-field">
                        <label>
                            <span className="emoji">ğŸ’µ</span> Ø§Ù„Ø¹Ù…Ù„Ø© Ø¯Ø§Ø®Ù„ Ø§Ù„Ù…Ø­ÙØ¸Ø©
                        </label>
                        <p className="field-description">Ø­Ø¯Ø¯ Ø¹Ù…Ù„Ø© Ø§Ù„Ù…Ø­ÙØ¸Ø© Ø§Ù„ØªÙŠ Ø³ØªØ³Ø­Ø¨ Ù…Ù†Ù‡Ø§.</p>
                        <select
                            name="wallet_currency"
                            value={formData.wallet_currency}
                            onChange={handleInputChange}
                            required
                        >
                            <option value="">Ø§Ø®ØªØ±...</option>
                            <option value="USD">USD</option>
                            <option value="EUR">EUR</option>
                            <option value="USDT">USDT</option>
                            <option value="Bitcoin">Bitcoin</option>
                            <option value="Ethereum">Ethereum</option>
                            <option value="Solana">Solana</option>
                            <option value="TRX">TRX</option>
                            <option value="BNB">BNB</option>
                            <option value="Ø£Ø®Ø±Ù‰">Ø£Ø®Ø±Ù‰</option>
                        </select>
                        {formData.wallet_currency === 'Ø£Ø®Ø±Ù‰' && (
                            <input
                                type="text"
                                name="other_wallet_currency"
                                value={formData.other_wallet_currency}
                                onChange={handleOtherInputChange}
                                placeholder="Ø§ÙƒØªØ¨ Ø¹Ù…Ù„Ø© Ø§Ù„Ù…Ø­ÙØ¸Ø©..."
                                className="mt-2"
                                required
                            />
                        )}
                    </div>
                    {['Bitcoin', 'Solana', 'Ethereum', 'TRX', 'BNB'].includes(formData.wallet_currency) && (
                        <div className="info-box my-2">
                            <div className="flex items-center">
                                {isPriceLoading || cryptoPrices[cryptoSymbolMap[formData.wallet_currency]] === null ? (
                                    <>
                                        <div className="inline-block h-4 w-4 animate-spin rounded-full border-2 border-blue-500 border-t-transparent ml-2"></div>
                                        <p className="text-sm text-blue-800">Ø¬Ø§Ø±ÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ø³Ø¹Ø±...</p>
                                    </>
                                ) : (
                                    <p className="text-sm text-blue-800">
                                        Ø§Ù„Ø³Ø¹Ø± Ø§Ù„Ø­Ø§Ù„ÙŠ Ù„Ù€ {formData.wallet_currency}: ~{cryptoPrices[cryptoSymbolMap[formData.wallet_currency]]?.toFixed(2)} Ø¯ÙˆÙ„Ø§Ø± Ø£Ù…Ø±ÙŠÙƒÙŠ
                                    </p>
                                )}
                            </div>
                            {!isPriceLoading && cryptoPrices[cryptoSymbolMap[formData.wallet_currency]] !== null && (
                                <div className="countdown-bar">
                                    <div className="countdown-progress" style={{ width: `${(countdown / 60) * 100}%` }}></div>
                                </div>
                            )}
                        </div>
                    )}
                </>
            );

            if (formSubmitted) {
                const payoutMethodForShare = formData.payout_method === 'Ø£Ø®Ø±Ù‰' ? formData.other_payout_method : formData.payout_method;
                const cryptoNameForShare = formData.crypto_name === 'Ø£Ø®Ø±Ù‰' ? formData.other_crypto_name : formData.crypto_name;
                const cryptoNetworkForShare = formData.crypto_network === 'Ø£Ø®Ø±Ù‰' ? formData.other_crypto_network : formData.crypto_network;
                const walletNameForShare = formData.wallet_name === 'Ø£Ø®Ø±Ù‰' ? formData.other_wallet_name : formData.wallet_name;
                const walletCurrencyForShare = formData.wallet_currency === 'Ø£Ø®Ø±Ù‰' ? formData.other_wallet_currency : formData.wallet_currency;

                const orderDetails = formData.balance_type === 'crypto' ?
                    `*Ù†ÙˆØ¹ Ø§Ù„Ø±ØµÙŠØ¯:* Ø¹Ù…Ù„Ø© Ø±Ù‚Ù…ÙŠØ©
*Ø§Ù„Ø¹Ù…Ù„Ø© Ø§Ù„Ø±Ù‚Ù…ÙŠØ©:* ${sanitizeInput(cryptoNameForShare)}
*Ø§Ù„Ø´Ø¨ÙƒØ©:* ${sanitizeInput(cryptoNetworkForShare)}
*Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ù…Ø·Ù„ÙˆØ¨ Ø³Ø­Ø¨Ù‡:* ${sanitizeInput(formData.amount_requested)} ${sanitizeInput(cryptoNameForShare)}`
                    :
                    `*Ù†ÙˆØ¹ Ø§Ù„Ø±ØµÙŠØ¯:* Ù…Ø­Ø§ÙØ¸ ÙˆÙ…Ù†ØµØ§Øª Ø±Ù‚Ù…ÙŠØ©
*Ø§Ø³Ù… Ø§Ù„Ù…Ø­ÙØ¸Ø©/Ø§Ù„Ù…Ù†ØµØ©:* ${sanitizeInput(walletNameForShare)}
*Ø¹Ù…Ù„Ø© Ø§Ù„Ù…Ø­ÙØ¸Ø©:* ${sanitizeInput(walletCurrencyForShare)}
*Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ù…Ø·Ù„ÙˆØ¨ Ø³Ø­Ø¨Ù‡:* ${sanitizeInput(formData.amount_requested)} ${sanitizeInput(walletCurrencyForShare)}`;
                
                const exchangeRateDisplay = formData.payout_currency === 'Ø¯ÙˆÙ„Ø§Ø± Ø£Ù…Ø±ÙŠÙƒÙŠ'
                    ? ''
                    : `*Ø³Ø¹Ø± Ø§Ù„ØµØ±Ù:* 1 USD = ${exchangeRates[formData.payout_currency]} ${formData.payout_currency}`;

                const shareText = `*ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø·Ù„Ø¨ Ø³Ø­Ø¨ Ø¬Ø¯ÙŠØ¯!*
-----------------------------
*Ø±Ù‚Ù… Ø§Ù„Ø·Ù„Ø¨:* ${sanitizeInput(orderId)}
${orderDetails}
*Ø±Ø³ÙˆÙ… Ø§Ù„Ø®Ø¯Ù…Ø© (Ø¨Ø§Ù„Ø¯ÙˆÙ„Ø§Ø±):* ${sanitizeInput(formData.service_fee_value.toFixed(2))} USD
*Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„ØµØ§ÙÙŠ Ø§Ù„Ù…Ø³ØªÙ„Ù… (Ø¨Ø§Ù„Ø¯ÙˆÙ„Ø§Ø±):* ${sanitizeInput(formData.final_amount_after_fees_usd.toFixed(2))} USD
*Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø¥Ø±Ø³Ø§Ù„:* ${sanitizeInput(formData.sender_address)}
*Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª:* ${sanitizeInput(formData.notes) || 'Ù„Ø§ ØªÙˆØ¬Ø¯'}
*Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø§Ø³ØªÙ„Ø§Ù…:* ${sanitizeInput(payoutMethodForShare)}
*Ø§Ù„Ø¹Ù…Ù„Ø© Ø§Ù„Ù…Ø­Ù„ÙŠØ© Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©:* ${sanitizeInput(formData.payout_currency)}
${exchangeRateDisplay}
*Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ Ù„Ù„Ø§Ø³ØªÙ„Ø§Ù… (Ø¨Ø§Ù„Ø¹Ù…Ù„Ø© Ø§Ù„Ù…Ø­Ù„ÙŠØ©):* ${sanitizeInput(formData.final_amount_due_local.toFixed(2))} ${sanitizeInput(formData.payout_currency)}
*Ø¨ÙŠØ§Ù†Ø§Øª Ø­Ø³Ø§Ø¨ Ø§Ù„Ø§Ø³ØªÙ„Ø§Ù…:* ${sanitizeInput(formData.receiver_bank_info)}`;

                return (
                    <div className="form-container text-right">
                        <h2 className="title">ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø·Ù„Ø¨ Ø³Ø­Ø¨Ùƒ Ø¨Ù†Ø¬Ø§Ø­!</h2>
                        <div className="info-box my-4 p-4 text-sm bg-green-50 border-green-200">
                            <p className="font-bold text-green-800">
                                <span className="emoji">ğŸ‘ˆ</span> Ø®Ø·ÙˆØ© Ù…Ù‡Ù…Ø©!
                            </p>
                            <p className="text-green-700 mt-1">
                                Ù„Ø¥ØªÙ…Ø§Ù… Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø©ØŒ Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ Ø²Ø± "Ù…Ø´Ø§Ø±ÙƒØ© Ø¹Ù„Ù‰ ÙˆØ§ØªØ³Ø§Ø¨" Ù„Ø¥Ø±Ø³Ø§Ù„ ØªÙØ§ØµÙŠÙ„ Ø·Ù„Ø¨Ùƒ Ø¥Ù„Ù‰ Ø®Ø¯Ù…Ø© Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡.
                            </p>
                        </div>
                        <div className="p-4 bg-gray-100 rounded-md text-sm">
                            <p className="font-bold">Ø±Ù‚Ù… Ø§Ù„Ø·Ù„Ø¨: {sanitizeInput(orderId)}</p>
                            <p className="mt-2">
                                <span className="font-bold">Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„ØµØ§ÙÙŠ Ø§Ù„Ù…Ø³ØªÙ„Ù… (Ø¨Ø§Ù„Ø¯ÙˆÙ„Ø§Ø±):</span> {sanitizeInput(formData.final_amount_after_fees_usd.toFixed(2))} USD
                            </p>
                            {formData.payout_currency !== 'Ø¯ÙˆÙ„Ø§Ø± Ø£Ù…Ø±ÙŠÙƒÙŠ' && (
                                <p className="mt-1">
                                    <span className="font-bold">Ø³Ø¹Ø± Ø§Ù„ØµØ±Ù:</span> 1 USD = {sanitizeInput(exchangeRates[formData.payout_currency])} {sanitizeInput(formData.payout_currency)}
                                </p>
                            )}
                            <p className="mt-1">
                                <span className="font-bold">Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ Ù„Ù„Ø§Ø³ØªÙ„Ø§Ù…:</span> {sanitizeInput(formData.final_amount_due_local.toFixed(2))} {sanitizeInput(formData.payout_currency)}
                            </p>
                        </div>
                        <button
                            onClick={() => window.open(`https://wa.me/?text=${encodeURIComponent(shareText)}`, '_blank')}
                            className="submit-button mt-4 bg-green-500 hover:bg-green-600"
                        >
                            <span className="emoji">âœ…</span> Ù…Ø´Ø§Ø±ÙƒØ© Ø¹Ù„Ù‰ ÙˆØ§ØªØ³Ø§Ø¨
                        </button>
                    </div>
                );
            }

            const exchangeRateText = formData.payout_currency === 'Ø¯ÙˆÙ„Ø§Ø± Ø£Ù…Ø±ÙŠÙƒÙŠ'
                ? ''
                : `Ø³Ø¹Ø± Ø§Ù„ØµØ±Ù: 1 USD = ${exchangeRates[formData.payout_currency]} ${formData.payout_currency}`;

            return (
                <div className="form-container" dir="rtl">
                    <form onSubmit={handleSubmit}>
                        <div className="logo">
                            <img src="https://i.imgur.com/gK5yR45.png" alt="BitcoYemen Logo" className="h-10" />
                        </div>
                        <h1 className="title">Ù†Ù…ÙˆØ°Ø¬ Ø·Ù„Ø¨ Ø³Ø­Ø¨ Ø±ØµÙŠØ¯</h1>
                        {isSubmitting && (
                            <div className="text-center my-4">
                                <div className="inline-block h-8 w-8 animate-spin rounded-full border-4 border-orange-500 border-t-transparent"></div>
                                <p className="text-gray-600">Ø¬Ø§Ø±ÙŠ Ø¥Ø±Ø³Ø§Ù„ Ø·Ù„Ø¨Ùƒ...</p>
                            </div>
                        )}
                        {error && (
                            <div className="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative my-2 text-sm" role="alert">
                                <span>{error}</span>
                            </div>
                        )}
                        
                        <div className="form-field">
                            <label>
                                <span className="emoji">ğŸ“</span> Ù†ÙˆØ¹ Ø§Ù„Ø±ØµÙŠØ¯ Ø§Ù„Ù…Ø±Ø§Ø¯ Ø³Ø­Ø¨Ù‡
                            </label>
                            <p className="field-description">Ø§Ø®ØªØ± Ù…Ø§ Ø¥Ø°Ø§ ÙƒÙ†Øª ØªØ³Ø­Ø¨ Ù…Ù† Ø¹Ù…Ù„Ø© Ø±Ù‚Ù…ÙŠØ© Ø£Ùˆ Ù…Ù†ØµØ©/Ù…Ø­ÙØ¸Ø©.</p>
                            <select
                                name="balance_type"
                                value={formData.balance_type}
                                onChange={handleInputChange}
                                required
                            >
                                <option value="">Ø§Ø®ØªØ±...</option>
                                <option value="crypto">Ø¹Ù…Ù„Ø© Ø±Ù‚Ù…ÙŠØ©</option>
                                <option value="wallet">Ù…Ø­Ø§ÙØ¸ ÙˆÙ…Ù†ØµØ§Øª Ø±Ù‚Ù…ÙŠØ©</option>
                            </select>
                        </div>

                        {formData.balance_type === 'crypto' && renderCryptoDetails()}
                        {formData.balance_type === 'wallet' && renderWalletDetails()}
                        
                        <div className="form-field">
                            <label>
                                <span className="emoji">ğŸ’°</span> Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ù…Ø·Ù„ÙˆØ¨ Ø³Ø­Ø¨Ù‡
                            </label>
                            <p className="field-description">Ø£Ø¯Ø®Ù„ Ø§Ù„ÙƒÙ…ÙŠØ© Ø§Ù„ØªÙŠ ØªØ±ØºØ¨ Ø¨Ø³Ø­Ø¨Ù‡Ø§ Ù…Ù† Ø±ØµÙŠØ¯Ùƒ.</p>
                            <input
                                type="number"
                                name="amount_requested"
                                value={formData.amount_requested}
                                onChange={handleInputChange}
                                required
                                min="1"
                                step="0.01"
                            />
                        </div>

                        {formData.amount_requested > 0 && (
                            <div className="info-box red my-2">
                                <p>
                                    <span className="font-bold">Ø±Ø³ÙˆÙ… Ø§Ù„Ø®Ø¯Ù…Ø© (Ø¨Ø§Ù„Ø¯ÙˆÙ„Ø§Ø±):</span> {formData.service_fee_value.toFixed(2)} USD
                                </p>
                                <p className="mt-1">
                                    <span className="font-bold">Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„ØµØ§ÙÙŠ Ø§Ù„Ù…Ø³ØªÙ„Ù… (Ø¨Ø§Ù„Ø¯ÙˆÙ„Ø§Ø±):</span> {formData.final_amount_after_fees_usd.toFixed(2)} USD
                                </p>
                            </div>
                        )}

                        <div className="form-field">
                            <label>
                                <span className="emoji">ğŸ”—</span> Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ù…Ø­ÙØ¸Ø© / Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ù„Ù„Ù…Ø±Ø³Ù„
                            </label>
                            <p className="field-description">Ø£Ø¯Ø®Ù„ Ø¹Ù†ÙˆØ§Ù† Ù…Ø­ÙØ¸ØªÙƒ Ø£Ùˆ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ø§Ù„Ø°ÙŠ Ø³ØªØ±Ø³Ù„ Ù…Ù†Ù‡ Ø§Ù„Ù…Ø¨Ù„Øº.</p>
                            <input
                                type="text"
                                name="sender_address"
                                value={formData.sender_address}
                                onChange={handleInputChange}
                                required
                            />
                        </div>

                        <div className="form-field">
                            <label>
                                <span className="emoji">ğŸ¦</span> Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø§Ø³ØªÙ„Ø§Ù… Ø§Ù„Ù…ÙØ¶Ù„Ø©
                            </label>
                            <p className="field-description">Ø§Ø®ØªØ± Ø§Ù„Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„ØªÙŠ ØªÙØ¶Ù„Ù‡Ø§ Ù„Ø§Ø³ØªÙ„Ø§Ù… Ø§Ù„Ù…Ø¨Ù„Øº Ø¨Ø§Ù„Ø¹Ù…Ù„Ø© Ø§Ù„Ù…Ø­Ù„ÙŠØ©.</p>
                            <select
                                name="payout_method"
                                value={formData.payout_method}
                                onChange={handleInputChange}
                                required
                            >
                                <option value="">Ø§Ø®ØªØ±...</option>
                                <option value="Ø§Ù„Ø¹Ù…Ù‚ÙŠ">Ø§Ù„Ø¹Ù…Ù‚ÙŠ Ù„Ù„ØµØ±Ø§ÙØ©</option>
                                <option value="Ø¨Ù†Ùƒ Ø§Ù„Ù‚Ø·ÙŠØ¨ÙŠ">Ø¨Ù†Ùƒ Ø§Ù„Ù‚Ø·ÙŠØ¨ÙŠ</option>
                                <option value="Ø¨Ù†Ùƒ Ø§Ù„ÙƒØ±ÙŠÙ…ÙŠ">Ø¨Ù†Ùƒ Ø§Ù„ÙƒØ±ÙŠÙ…ÙŠ</option>
                                <option value="ØªØ­ÙˆÙŠÙ„ Ø¨Ù†ÙƒÙŠ Ø³Ø¹ÙˆØ¯ÙŠ">ØªØ­ÙˆÙŠÙ„ Ø¨Ù†ÙƒÙŠ Ø³Ø¹ÙˆØ¯ÙŠ</option>
                                <option value="Ø£Ø®Ø±Ù‰">Ø£Ø®Ø±Ù‰</option>
                            </select>
                            {formData.payout_method === 'Ø£Ø®Ø±Ù‰' && (
                                <input
                                    type="text"
                                    name="other_payout_method"
                                    value={formData.other_payout_method}
                                    onChange={handleOtherInputChange}
                                    placeholder="Ø§ÙƒØªØ¨ Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø§Ø³ØªÙ„Ø§Ù…..."
                                    className="mt-2"
                                    required
                                />
                            )}
                        </div>

                        <div className="form-field">
                            <label>
                                <span className="emoji">ğŸŒ</span> Ø§Ù„Ø¹Ù…Ù„Ø© Ø§Ù„Ù…Ø­Ù„ÙŠØ© Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©
                            </label>
                            <p className="field-description">Ø§Ø®ØªØ± Ø§Ù„Ø¹Ù…Ù„Ø© Ø§Ù„ØªÙŠ ØªØ±ØºØ¨ Ø¨Ø§Ø³ØªÙ„Ø§Ù…Ù‡Ø§.</p>
                            <select
                                name="payout_currency"
                                value={formData.payout_currency}
                                onChange={handleInputChange}
                                required
                            >
                                <option value="Ø±ÙŠØ§Ù„ ÙŠÙ…Ù†ÙŠ Ø¬Ø¯ÙŠØ¯">Ø±ÙŠØ§Ù„ ÙŠÙ…Ù†ÙŠ (Ø¬Ø¯ÙŠØ¯)</option>
                                <option value="Ø±ÙŠØ§Ù„ ÙŠÙ…Ù†ÙŠ Ù‚Ø¯ÙŠÙ…">Ø±ÙŠØ§Ù„ ÙŠÙ…Ù†ÙŠ (Ù‚Ø¯ÙŠÙ…)</option>
                                <option value="Ø±ÙŠØ§Ù„ Ø³Ø¹ÙˆØ¯ÙŠ">Ø±ÙŠØ§Ù„ Ø³Ø¹ÙˆØ¯ÙŠ</option>
                                <option value="Ø¯ÙˆÙ„Ø§Ø± Ø£Ù…Ø±ÙŠÙƒÙŠ">Ø¯ÙˆÙ„Ø§Ø± Ø£Ù…Ø±ÙŠÙƒÙŠ</option>
                            </select>
                        </div>
                        <div className="form-field">
                            <label>
                                <span className="emoji">ğŸ“„</span> Ø¨ÙŠØ§Ù†Ø§Øª Ø­Ø³Ø§Ø¨ Ø§Ù„Ø§Ø³ØªÙ„Ø§Ù…
                            </label>
                            <p className="field-description">Ø§ÙƒØªØ¨ ØªÙØ§ØµÙŠÙ„ Ø­Ø³Ø§Ø¨Ùƒ (Ø±Ù‚Ù… Ø§Ù„Ø­Ø³Ø§Ø¨ØŒ Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªÙ„Ù…ØŒ Ø¥Ù„Ø®).</p>
                            <textarea
                                name="receiver_bank_info"
                                value={formData.receiver_bank_info}
                                onChange={handleInputChange}
                                required
                                rows="3"
                                placeholder="Ù…Ø«Ù„Ø§Ù‹:
Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªÙ„Ù…: Ø¹Ù„ÙŠ Ù…Ø­Ù…Ø¯
Ø±Ù‚Ù… Ø§Ù„Ø­Ø³Ø§Ø¨: 123456789
Ø§Ù„Ø¨Ù†Ùƒ: Ø¨Ù†Ùƒ Ø§Ù„ÙƒØ±ÙŠÙ…ÙŠ"
                            ></textarea>
                        </div>
                        <div className="form-field">
                            <label>
                                <span className="emoji">âœï¸</span> Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ© (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)
                            </label>
                            <textarea
                                name="notes"
                                value={formData.notes}
                                onChange={handleInputChange}
                                rows="2"
                                placeholder="Ø§ÙƒØªØ¨ Ø£ÙŠ Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ©..."
                            ></textarea>
                        </div>
                        
                        <div className="final-amounts">
                            {exchangeRateText && <p className="exchange-rate-text">{exchangeRateText}</p>}
                            <p className="font-bold">Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„ØµØ§ÙÙŠ Ø§Ù„Ø°ÙŠ Ø³ØªØ³ØªÙ„Ù…Ù‡ (Ø¨Ø§Ù„Ø¯ÙˆÙ„Ø§Ø±): <span className="text-blue-600">{formData.final_amount_after_fees_usd.toFixed(2)} USD</span></p>
                            <p className="font-bold">Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ Ø§Ù„Ø°ÙŠ Ø³ØªØ³ØªÙ„Ù…Ù‡: <span className="text-blue-600">{formData.final_amount_due_local.toFixed(2)} {formData.payout_currency}</span></p>
                        </div>

                        <button
                            type="submit"
                            className="submit-button mt-4"
                            disabled={isSubmitting}
                        >
                            Ø¥Ø±Ø³Ø§Ù„ Ø·Ù„Ø¨ Ø§Ù„Ø³Ø­Ø¨
                        </button>
                    </form>
                </div>
            );
        };

        ReactDOM.render(<App />, document.getElementById('root'));
    </script>
</body>
</html>
